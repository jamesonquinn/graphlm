---
title: "GraphLm Final Project Writeup"
author: "Jameson Quinn and Kyle Mahowald"
date: "April 29, 2015"
output: html_document
---

```{r, include=F}
knitr::opts_chunk$set(message=F, warning=F, error=F, fig.width=9, fig.height=9)
source('plotLm.R')
library(rmarkdown)
```

# Language data

Let's see how plotLM works with a real data set of interest. We'll use some language data on reading times, from the LanguageR package.

First, we load the data and get the columns we want.

```{r}
d <- read.csv('rts.csv')
d$WrittenFrequency <- exp(d$WrittenFrequency)
d$RTnaming <- exp(d$RTnaming)
d <- select(d, RTnaming, Familiarity, Word, AgeSubject, WordCategory, WrittenFrequency, Voice, LengthInLetters)
```

The measure of interest is `RTnaming`, which is a measure of the latency in ms of how long a participant takes to say a word out loud. Here, we have data aggregated by word.

Let's say we want to investigate the effects of `AgeSubject`, `WrittenFrequency`, and `LengthInLetters` in a linear model.

```{r}
###first pass
l <- lm(RTnaming ~ AgeSubject + WrittenFrequency + LengthInLetters , data=d)
```

To plot this data using plotLM, we just use the `by1var.seq` function.

```{r}
by1var.seq(l)
```

We notice something right away: we should take the log of frequency. Let's do that and refit the model.

```{r}
d$WrittenFrequency.log <- log(d$WrittenFrequency)
l <- lm(RTnaming ~ AgeSubject + WrittenFrequency.log + LengthInLetters , data=d)
by1var.seq(l)
```

It's still hard to visualize, so we will try thinning the data. This will not affect the model or the lines of fit shown on the plot. It will just plot fewer data points. To do that, we pass `thin=.1` to the function. This effectively lets us look at 10% of the data.

```{r}
by1var.seq(l, thin=.1)
```

Now we see that we should use the `breakupby` function, which allows us to split a factor of our choice into facets. Here, we do that for `AgeSubject`, which is clearly causing a bimodal distribution.

```{r}
by1var.seq(l, thin=.1, breakupby='AgeSubject')
```

Now we can see each factor separately, while holding the others constant.








